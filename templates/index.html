<!doctype html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <title>ZEDTRACK</title>

      <!-- Favicon -->
      <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}" />
      <link rel="stylesheet" href="{% static 'assets/css/backend-plugin.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/css/backend.css?v=1.0.0' %}">
      <link rel="stylesheet" href="{% static 'assets/css/css.css' %}">
      <link rel="stylesheet" href="{% static 'assets/vendor/@fortawesome/fontawesome-free/css/all.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css' %}">
      <link rel="stylesheet" href="{% static 'assets/vendor/remixicon/fonts/remixicon.css' %}">
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


  </head>
  <body>

    <div class="wrapper">
      <div class="iq-sidebar  sidebar-default ">
          <div class="iq-sidebar-logo d-flex align-items-center justify-content-between">
              <a href="/" class="header-logo">
                <img src="{% static 'zed.png' %}" class="img-fluid rounded-normal light-logo" alt="logo"><h6 class="logo-title light-logo ml-3">ZEDTRACK</h6>
              </a>
              <div class="iq-menu-bt-sidebar ml-0">
                <i class=" wrapper-menu"><?xml version="1.0" ?><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M4 6H20M4 12H20M4 18H20" stroke="#4A5568" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></i>
              </div>
          </div>
          <div class="data-scrollbar" data-scroll="1">
              <nav class="iq-sidebar-menu">
                  <ul id="iq-sidebar-toggle" class="iq-menu">
                      <li class="actives">
                          <a href="/" class="svg-icon">
                              <svg  class="svg-icon" id="p-dash1" width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="var(--main-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>
                              </svg>
                              <span class="ml-4">Dashboard</span>
                          </a>
                      </li>
                      <li class="">
                          <a href="/marking/" class="svg-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="var(--main-color)" d="M20 16v-6h2v6a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2h8v2H8v12h12m-9.09-8.92L14 10.17l6.59-6.59L22 5l-8 8l-4.5-4.5l1.41-1.42M16 20v2H4a2 2 0 0 1-2-2V7h2v13h12Z"/></svg>
                              <span class="ml-4">Mark Attendance</span>
                          </a>
                      </li>
                      <li class="">
                          <a href="/students/" class="svg-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 1024 768"><path fill="var(--main-color)" d="M1024 736q0 13-9.5 22.5T992 768t-22.5-9.5T960 736V315L607 492q-40 20-95 20t-95-20L39 303Q0 283 0 255.5T39 209L417 20q40-20 95-20t95 20l378 189q34 17 38 42q1 1 1 4v481zM639 556l193-97v141q0 43-93.5 73.5T512 704t-226.5-30.5T192 600V459l193 97q40 20 127 20t127-20z"/></svg>
                              <span class="ml-4">Students</span>
                          </a>
                      </li>
                      <li class="">
                          <a href="/teachers/" class="svg-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" stroke="var(--main-color)" stroke-width="1" viewBox="0 0 20 20"><path fill="var(--main-color)" d="M8.75 3.75a2.75 2.75 0 1 0-5.5 0a2.75 2.75 0 0 0 5.5 0Zm-4.5 0a1.75 1.75 0 1 1 3.5 0a1.75 1.75 0 0 1-3.5 0ZM2.5 7.5h4.183c-.164.31-.286.646-.358 1H2.5A.5.5 0 0 0 2 9v.5c0 1.26 1.099 2.614 3.096 2.93c-.322.22-.59.513-.781.854C2.205 12.713 1 11.087 1 9.5V9a1.5 1.5 0 0 1 1.5-1.5Zm5.379 0c.504-.61 1.267-1 2.121-1a2.744 2.744 0 0 1 2.646 2a2.753 2.753 0 0 1-3.893 3.202A2.75 2.75 0 0 1 7.88 7.5Zm.54 1a1.75 1.75 0 1 0 3.164 1.5a1.75 1.75 0 0 0-3.165-1.5Zm7.266 4.784a2.513 2.513 0 0 0-.781-.853C16.9 12.114 18 10.759 18 9.5V9a.5.5 0 0 0-.5-.5h-3.825a3.726 3.726 0 0 0-.357-1H17.5A1.5 1.5 0 0 1 19 9v.5c0 1.587-1.206 3.212-3.315 3.784Zm-1.198.087A1.493 1.493 0 0 0 13.5 13h-7A1.496 1.496 0 0 0 5 14.5v.5c0 1.971 1.86 4 5 4c3.14 0 5-2.029 5-4v-.5c0-.45-.198-.854-.513-1.13ZM6 14.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v.5c0 1.438-1.432 3-4 3s-4-1.562-4-3v-.5ZM14 1a2.75 2.75 0 1 1 0 5.5A2.75 2.75 0 0 1 14 1Zm0 1a1.75 1.75 0 1 0 0 3.5A1.75 1.75 0 0 0 14 2Z"/></svg>
                              <span class="ml-4">Teachers</span>
                          </a>
                      </li>
                      <li class="">
                          <a href="/courses/" class="svg-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="var(--main-color)" d="M19 3h-2v6.5l-3-2.25l-3 2.25V3H5v18h14V3Zm-6 0v2.5l1-.75l1 .75V3h-2Zm8 20H3V1h18v22Z"/></svg>
                              <span class="ml-4">Courses</span>
                          </a>
                      </li>
                      <li class="">
                          <a href="/history/" class="svg-icon">
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" stroke="var(--main-color)" stroke-width="1.1" viewBox="0 0 24 24"><path fill="var(--main-color)" d="M16.727 3.18C12.31.81 6.915 2.103 4 6V3.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H4.522a8.954 8.954 0 0 1 7.411-4A8.967 8.967 0 1 1 3 12c0-.16 0-.312.009-.472A.5.5 0 0 0 2.52 11c-.27-.01-.5.2-.51.472C2 11.652 2 11.82 2 12c.006 5.52 4.48 9.994 10 10a10.005 10.005 0 0 0 8.81-5.273c2.614-4.868.786-10.933-4.083-13.547zM12 8a.5.5 0 0 0-.5.5V12a.5.5 0 0 0 .5.5h2.5a.5.5 0 0 0 0-1h-2v-3A.5.5 0 0 0 12 8z"/></svg>
                              <span class="ml-4">Attendance History</span>
                          </a>
                      </li>

                  </ul>
              </nav>

          </div>
          </div>

        <div class="iq-top-navbar">
          <div class="iq-navbar-custom">
            <nav class="navbar navbar-expand-lg navbar-light p-0 d-flex align-items-center justify-content-between">
                <div class="iq-navbar-logo d-flex align-items-center justify-content-between">
                    <i class="wrapper-menu">
                        <?xml version="1.0" ?>
                        <svg fill="none" height="24" viewBox="0 0 24 24" width="24"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 6H20M4 12H20M4 18H20"
                                  stroke="var(--main-color)"
                                  stroke-linecap="round"
                                  stroke-linejoin="round"
                                  stroke-width="2"/>
                        </svg>
                    </i>
                    <a href="/" class="header-logo d-flex align-items-center">
                        <img src="{% static 'zed.png' %}" class="img-fluid rounded-normal" alt="logo">
                        <h5 class="logo-title ml-3">ZEDTRACK</h5>
                    </a>
                </div>
                <h5 style="margin-top: 1.4%;" id="clock">Time</h5>
            </nav>
          </div>
      </div>
      <div class="content-page">
     <div class="container-fluid">
         <div class="card-header-toolbar d-flex align-items-center">
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="row" style="position: relative; top: -20px">
                    <div style="height: 130px" class="col-lg-3 col-md-3">

                        <div class="card card-block card-stretch card-height" style="background-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-info-light" style="background-color: white !important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 1024 768"><path fill="var(--main-color)" d="M1024 736q0 13-9.5 22.5T992 768t-22.5-9.5T960 736V315L607 492q-40 20-95 20t-95-20L39 303Q0 283 0 255.5T39 209L417 20q40-20 95-20t95 20l378 189q34 17 38 42q1 1 1 4v481zM639 556l193-97v141q0 43-93.5 73.5T512 704t-226.5-30.5T192 600V459l193 97q40 20 127 20t127-20z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: white">Students</p>
                                        <h4 style="color: white">{{ students.count }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="background-color: var(--main-color);">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: white !important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" stroke="var(--main-color)" stroke-width="0.5" viewBox="0 0 20 20"><path fill="var(--main-color)" d="M8.75 3.75a2.75 2.75 0 1 0-5.5 0a2.75 2.75 0 0 0 5.5 0Zm-4.5 0a1.75 1.75 0 1 1 3.5 0a1.75 1.75 0 0 1-3.5 0ZM2.5 7.5h4.183c-.164.31-.286.646-.358 1H2.5A.5.5 0 0 0 2 9v.5c0 1.26 1.099 2.614 3.096 2.93c-.322.22-.59.513-.781.854C2.205 12.713 1 11.087 1 9.5V9a1.5 1.5 0 0 1 1.5-1.5Zm5.379 0c.504-.61 1.267-1 2.121-1a2.744 2.744 0 0 1 2.646 2a2.753 2.753 0 0 1-3.893 3.202A2.75 2.75 0 0 1 7.88 7.5Zm.54 1a1.75 1.75 0 1 0 3.164 1.5a1.75 1.75 0 0 0-3.165-1.5Zm7.266 4.784a2.513 2.513 0 0 0-.781-.853C16.9 12.114 18 10.759 18 9.5V9a.5.5 0 0 0-.5-.5h-3.825a3.726 3.726 0 0 0-.357-1H17.5A1.5 1.5 0 0 1 19 9v.5c0 1.587-1.206 3.212-3.315 3.784Zm-1.198.087A1.493 1.493 0 0 0 13.5 13h-7A1.496 1.496 0 0 0 5 14.5v.5c0 1.971 1.86 4 5 4c3.14 0 5-2.029 5-4v-.5c0-.45-.198-.854-.513-1.13ZM6 14.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v.5c0 1.438-1.432 3-4 3s-4-1.562-4-3v-.5ZM14 1a2.75 2.75 0 1 1 0 5.5A2.75 2.75 0 0 1 14 1Zm0 1a1.75 1.75 0 1 0 0 3.5A1.75 1.75 0 0 0 14 2Z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: white">Teachers</p>
                                        <h4 style="color: white">{{ teachers.count }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="background-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-danger-light" style="background-color: white !important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24"><path fill="var(--main-color)" d="M19 3h-2v6.5l-3-2.25l-3 2.25V3H5v18h14V3Zm-6 0v2.5l1-.75l1 .75V3h-2Zm8 20H3V1h18v22Z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: white">Available Courses</p>
                                        <h4 style="color: white">{{ courses.count }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="background-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: white !important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24"><path fill="var(--main-color)" d="M17.5 12a5.5 5.5 0 1 1 0 11a5.5 5.5 0 0 1 0-11Zm-2.646 5.147a.5.5 0 1 0-.707.707l2 2a.5.5 0 0 0 .707 0l4-4a.5.5 0 1 0-.707-.707L16.5 18.793l-1.646-1.646ZM12.023 14a6.47 6.47 0 0 0-.709 1.5H4.253a.749.749 0 0 0-.75.75v.577c0 .535.192 1.053.54 1.46c1.253 1.469 3.22 2.214 5.957 2.214c.597 0 1.157-.035 1.68-.106c.246.495.553.954.912 1.367c-.795.16-1.66.24-2.592.24c-3.146 0-5.532-.906-7.098-2.74a3.75 3.75 0 0 1-.898-2.435v-.578A2.249 2.249 0 0 1 4.253 14h7.77ZM10 2.005a5 5 0 1 1 0 10a5 5 0 0 1 0-10Zm0 1.5a3.5 3.5 0 1 0 0 7a3.5 3.5 0 0 0 0-7Z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: white">Attendance Rate</p>
                                        <h4 style="color: white">{{ attendance_rate|floatformat:2 }}%</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="border-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: var(--main-color)!important;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 10 10"><path fill="white" d="M4.998 0a4.998 4.998 0 1 0 0 9.995a4.998 4.998 0 0 0 0-9.995ZM1 4.998a3.998 3.998 0 1 1 7.995 0a3.998 3.998 0 0 1-7.995 0Zm6.104-1.602a.5.5 0 0 1 0 .708l-2.25 2.25a.5.5 0 0 1-.708 0l-1-1a.5.5 0 1 1 .708-.708l.646.647l1.896-1.897a.5.5 0 0 1 .708 0Z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: black">Present Students (Today)</p>
                                        <h4 style="color: black">{{ present_student.count }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="border-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: var(--main-color)!important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 16 16"><path fill="white" fill-rule="evenodd" d="M14.1 13.2c1.2-1.4 1.92-3.21 1.92-5.2c0-4.42-3.58-8-8-8s-8 3.58-8 8s3.58 8 8 8a7.98 7.98 0 0 0 6.084-2.804zm-1.59.174a6.96 6.96 0 0 1-4.49 1.63c-3.87 0-7-3.13-7-7c0-1.71.612-3.27 1.63-4.49zm.884-.884l-9.86-9.86A6.96 6.96 0 0 1 8.024 1c3.87 0 7 3.13 7 7c0 1.71-.612 3.27-1.63 4.49" clip-rule="evenodd"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: black">Absent Students (Today)</p>
                                        <h4 style="color: black">{{ absent_students.count }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="border-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: var(--main-color)!important;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24"><path fill="white" d="M12 21.934A9.934 9.934 0 1 1 21.933 12A9.945 9.945 0 0 1 12 21.934Zm0-18.868A8.934 8.934 0 1 0 20.933 12A8.944 8.944 0 0 0 12 3.066Z"/><path fill="white" d="M9 10.258a1.5 1.5 0 1 1 1.061-.439A1.5 1.5 0 0 1 9 10.258Zm0-2a.5.5 0 1 0 .353.146A.5.5 0 0 0 9 8.259Zm-1.242 8.485a.5.5 0 0 1-.358-.853l8.489-8.49a.5.5 0 0 1 .707.707L8.111 16.6a.5.5 0 0 1-.353.143ZM15 16.742a1.5 1.5 0 1 1 1.061-.438a1.493 1.493 0 0 1-1.061.438Zm0-2a.5.5 0 0 0-.354.147a.5.5 0 0 0-.146.352a.5.5 0 1 0 1 0a.5.5 0 0 0-.5-.5Z"/></svg>
                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: black">Attendance Rate (Today)</p>
                                        <h4 style="color: black">{{ attendance_rate_today|floatformat:2 }}%</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="height: 130px" class="col-lg-3 col-md-3">
                        <div class="card card-block card-stretch card-height" style="border-color: var(--main-color)">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4 card-total-sale">
                                    <div class="icon iq-icon-box-2 bg-success-light" style="background-color: var(--main-color)!important;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24"><path fill="white" d="M19 3h-2v6.5l-3-2.25l-3 2.25V3H5v18h14V3Zm-6 0v2.5l1-.75l1 .75V3h-2Zm8 20H3V1h18v22Z"/></svg>

                                    </div>
                                    <div>
                                        <p class="mb-2" style="color: black">Courses (Today)</p>
                                        <h4 style="color: black">{{ todays_courses }}</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <div class="col-lg-6" style="position: relative; top: -20px;">
                <div class="card card-block card-stretch" style="border-color: var(--main-color)">
                    <div class="card-header d-flex align-items-center justify-content-between" style="border-color: var(--main-color)">
                        <div class="header-title">
                            <h4 class="card-title">Attendace Records</h4>
                        </div>
                    </div>
                    <div class="card-body">
                        <div>
                          <canvas id="lineChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3" style="position: relative; top: -20px;">
                <div class="card card-block card-stretch" style="border-color: var(--main-color)">
                    <div class="card-header d-flex align-items-center justify-content-between" style="border-color: var(--main-color)">
                        <div class="header-title">
                            <h4 class="card-title">Top Students</h4>
                        </div>
                    </div>
                        <div class="" style="overflow: auto; height: 410px">
                    <div class="card-body card-item-right">
                        {% for student in top_students %}
                            <div class="d-flex align-items-top">
                            <div class="style-text text-left">
                                <h5 class="mb-2">{{ student.first_name }} {{ student.last_name }}</h5>
                                <p class="mb-2">Course : {{ student.course }}</p>
                                <p class="mb-0">Attendance : {{ student.total_lessons }}</p>
                                <p class="mb-0">Absence: {{ student.absent }}</p>
                            </div>
                        </div><hr>
                        {% endfor %}

                    </div>
                </div>
                </div>
            </div>

            <div class="col-lg-3" style="position: relative; top: -20px;">
                <div class="card card-block card-stretch" style="border-color: var(--main-color)">
                    <div class="card-header d-flex align-items-center justify-content-between" style="border-color: var(--main-color)">
                        <div class="header-title">
                            <h4 class="card-title">Students</h4>
                        </div>
                    </div>
                    <div class="card-body">
                        <div style="overflow: auto; height: 370px">
                          <canvas id="pieChart"></canvas>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12" style="position: relative; top: -20px;">
                <div class="card card-block card-stretch" style="border-color: var(--main-color)">
                    <div class="card-header d-flex align-items-center justify-content-between" style="border-color: var(--main-color)">
                        <div class="header-title">
                            <h4 class="card-title">Recent Attendance Records</h4>
                        </div>
                    </div>
                    <div class="card-body">
                        <div style="overflow: auto; height: 370px">
                            <table class="table ">
                                <thead class=" ">
                                    <tr class="ligth ligth-data">
                                        <th style="text-align: start">Student</th>
                                        <th>Course</th>
                                        <th>Course Time</th>
                                        <th>Record Time</th>
                                        <th>Teacher</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody class="ligth-body">
                                {% for record in attendance_records %}
                                        <tr>
                                            <td style="text-align: start">{{ record.student.first_name }} {{ record.student.last_name }}</td>
                                            <td>{{ record.course }}</td>
                                            <td>{{ record.course.time }}</td>
                                            <td>{{ record.time }}</td>
                                            <td>{{ record.student.course.course_teacher.first_name }} {{ record.student.course.course_teacher.last_name }}</td>
                                            {% if record.status %}
                                            <td style="color: green">✅ Present</td>
                                            {% else %}
                                            <td style="color: red">❌ Absent</td>
                                            {% endif %}

                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        <!-- Page end  -->
    </div>
      </div>
    </div>

    <script type="text/javascript">
$(function() {

    var start = moment().subtract(29, 'days');
    var end = moment();

    function cb(start, end) {
        $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
    }

    $('#reportrange').daterangepicker({
        startDate: start,
        endDate: end,
        ranges: {
           'Today': [moment(), moment()],
           'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
           'Last 7 Days': [moment().subtract(6, 'days'), moment()],
           'Last 30 Days': [moment().subtract(29, 'days'), moment()],
           'This Month': [moment().startOf('month'), moment().endOf('month')],
           'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
        }
    }, cb);

    cb(start, end);

});
</script>


    <script>
        // Retrieve data passed from the view
        var data = {{ gender_data|safe }};

        // Get the canvas element
        var canvas = document.getElementById('pieChart');

        // Create the chart
        new Chart(canvas, {
            type: 'doughnut',
            data: {
                labels: data.labels,
                datasets: [{
                    data: data.values,
                    borderColor: ['rgb(60 25 220)', 'blue', 'green', "grey", "rgb(92 11 214)"],
                    backgroundColor: 'white'
                }]
            }
        });
    </script>
    <script>
        // Retrieve the data points from the Django template context
        var dataPoints = {{ line_chart_data|safe }};

        // Get the canvas element
        var ctx = document.getElementById('lineChart').getContext('2d');

        // Create the line chart
        var chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: dataPoints.labels,  // Example labels
                datasets: [{
                    label: 'Student',
                    data: dataPoints.values,
                    backgroundColor: 'rgb(92 11 214)',
                    borderColor: 'rgb(92 11 214)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
  <script>
    function updateDateTime() {
      const now = new Date();

      const day = String(now.getDate()).padStart(2, '0');
      const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed
      const year = now.getFullYear();

      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');

      const date = `${day}.${month}.${year}`;
      const time = `${hours}:${minutes}:${seconds} |`;

      document.getElementById('clock').textContent = `${time} ${date}`;
    }

    updateDateTime(); // Initial call
    setInterval(updateDateTime, 1000); // Update every second
  </script>
    <!-- Wrapper End-->
    <!-- Backend Bundle JavaScript -->
    <script src="{% static 'assets/js/backend-bundle.min.js' %}"></script>

    <!-- Table Treeview JavaScript -->
    <script src="{% static 'assets/js/table-treeview.js' %}"></script>

    <!-- Chart Custom JavaScript -->
    <script src="{% static 'assets/js/customizer.js' %}"></script>
    <script src="{% static 'chart.js' %}"></script>
    <script src="{% static 'custom.js' %}"></script>


    <!-- Chart Custom JavaScript -->
    <script async src="{% static 'assets/js/chart-custom.js' %}"></script>

    <!-- app JavaScript -->
    <script src="{% static 'assets/js/app.js' %}"></script>
  </body>
</html>